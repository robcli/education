<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Massachusetts is #1 in Education, not Florida</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-a14e3238c51140e99ccc48519b6ed9ce.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent quarto-light">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Massachusetts is #1 in Education, not Florida</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>I was rage-baited by this <a href="https://www.usnews.com/news/best-states/articles/2024-05-07/why-florida-is-the-best-state-in-education-and-economy">article</a> from U.S. News &amp; World Report, which makes sweeping claims about Florida being the top state in both education and the economy. Adding to the hype were two celebratory press releases from Governor Ron DeSantis, <a href="https://www.flgov.com/eog/news/press/2025/governor-ron-desantis-announces-positive-achievements-2025-school-grades">here</a> and <a href="https://flgov.com/eog/news/press/2025/governor-ron-desantis-announces-student-academic-performance-continues-rise-during">here</a>, touting supposed gains in Florida’s education system.</p>
<p>However, these claims rest almost entirely on state controlled assessments, where the state determines the content and standards. This raises valid concerns about the objectivity of the data being reported. A more reliable approach would be to examine trends in national standardized assessments, which offer consistent, independent measures across all states. When doing so, a very different picture emerges: Florida’s educational performance has, like much of the nation, declined over time. In contrast, Massachusetts consistently outperforms the rest of the country across nearly every national benchmark highlighting what genuine educational excellence looks like.</p>
<p>Note: It’s clear that the U.S. News &amp; World Report article bases much of its education ranking on factors like the cost of higher education and graduation rates from two and four year colleges, metrics that are, frankly, questionable indicators of educational quality. Tuition costs alone are a poor measure without accounting for post-graduation outcomes. As U.S. News should already know from its own college rankings, return on investment, such as graduates’ average earnings, is a far more meaningful metric.</p>
<p>Moreover, graduation rates don’t necessarily reflect academic strength. In some cases, unusually high graduation rates may raise concerns about the rigor and standards of the curriculum, rather than serve as evidence of educational excellence.</p>
<section id="load-the-data-and-requisite-packages" class="level3">
<h3 class="anchored" data-anchor-id="load-the-data-and-requisite-packages">Load the data and requisite packages</h3>
<div id="446b0cd7" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.cm <span class="im">as</span> cm</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.colors <span class="im">as</span> mcolors</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib.lines <span class="im">import</span> Line2D</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> utils.scores <span class="im">as</span> scores</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> utils.anomaly <span class="im">as</span> anomaly</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> utils.us_map</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">"ignore"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="f5f67b36" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>states <span class="op">=</span> utils.us_map.main()</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>paths <span class="op">=</span> [<span class="st">"data/naep/NDECoreExcel_Reading, Grade 8, All students_20250815065213.xlsx"</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>         <span class="st">"data/naep/NDECoreExcel_Reading, Grade 4, All students_20250815065450.xlsx"</span>,</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>         <span class="st">"data/naep/NDECoreExcel_Mathematics, Grade 8, All students_20250815065004.xlsx"</span>,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>         <span class="st">"data/naep/NDECoreExcel_Mathematics, Grade 4, All students_20250815065347.xlsx"</span>]</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>naep_scores <span class="op">=</span> scores.Scores()</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> path <span class="kw">in</span> paths:</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    naep_scores <span class="op">=</span> naep_scores.merge(scores.NAEPScores(path))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="b40ec510" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>s1 <span class="op">=</span> scores.SATScores(<span class="st">"data/sat/tabn226.40_17_18_19_20.xlsx"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>s2 <span class="op">=</span> scores.SATScores(<span class="st">"data/sat/tabn226.40_18_21_22_23.xlsx"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>s2.df <span class="op">=</span> s2.df.query(<span class="st">"year!=2018"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>paths <span class="op">=</span> [<span class="st">'data/act/tabn226.60_2013_2017.xlsx'</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>         <span class="st">'data/act/tabn226.60_2014_2018.xlsx'</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>         <span class="st">'data/act/tabn226.60_2015_2019.xlsx'</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>         <span class="st">'data/act/tabn226.60_2016_2020.xlsx'</span>,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>         <span class="st">'data/act/tabn226.60_2017_2021.xlsx'</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>         <span class="st">'data/act/tabn226.60_2018_2022.xlsx'</span>,</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>         <span class="st">'data/act/tabn226.60_2018_2023.xlsx'</span>]</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>objs <span class="op">=</span> [scores.ACTScores(path) <span class="cf">for</span> path <span class="kw">in</span> paths]</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>objs[<span class="dv">0</span>].df <span class="op">=</span> objs[<span class="dv">0</span>].df.query(<span class="st">"year==2013"</span>)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>objs[<span class="dv">1</span>].df <span class="op">=</span> objs[<span class="dv">1</span>].df.query(<span class="st">"year==2014"</span>)</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>test_scores <span class="op">=</span> scores.Scores()</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> score <span class="kw">in</span> [s1, s2] <span class="op">+</span> objs:</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    test_scores <span class="op">=</span> test_scores.merge(score)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="naep-scores" class="level1">
<h1>NAEP Scores</h1>
<p>The National Assessment of Educational Progress (NAEP) periodically administers standardized tests in reading and mathematics to 4th and 8th graders nationwide. One of its strengths lies in its rigorous, representative sampling methods, which enable meaningful comparisons across states. As shown in the charts below, Florida performs impressively in 4th grade math and reading, ranking among the top 10 states in 2024. However, by 8th grade, the state’s performance drops sharply, landing near the bottom in both subjects. This suggests that Florida’s strong early academic achievement is not sustained through middle school, and as I will demonstrate later, this trend continues into high school.</p>
<div id="cell-fig-naep_individual_sections" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">2</span>, ncols<span class="op">=</span><span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>), layout<span class="op">=</span><span class="st">"tight"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>axes <span class="op">=</span> axes.flatten()</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>[ax.set_axis_off() <span class="cf">for</span> ax <span class="kw">in</span> axes]</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>min_value <span class="op">=</span> naep_scores.get_year(<span class="dv">2024</span>).df[<span class="st">"mean"</span>].<span class="bu">min</span>()</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>max_value <span class="op">=</span> naep_scores.get_year(<span class="dv">2024</span>).df[<span class="st">"mean"</span>].<span class="bu">max</span>()</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> section, ax <span class="kw">in</span> <span class="bu">zip</span>(<span class="bu">sorted</span>(naep_scores.df[<span class="st">"section"</span>].unique()), axes):</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> naep_scores.get_year(<span class="dv">2024</span>).get_section(section).df</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    label <span class="op">=</span> <span class="st">"NAEP "</span> <span class="op">+</span> <span class="st">" "</span>.join(section.split(<span class="st">"_"</span>)) <span class="op">+</span> <span class="st">"th grade"</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    ax.set_title(<span class="ss">f"</span><span class="sc">{</span>label<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">map</span> <span class="op">=</span> (states.merge(df,</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>                        right_on<span class="op">=</span><span class="st">"location"</span>, left_on<span class="op">=</span><span class="st">"NAME"</span>)</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>           .plot(column<span class="op">=</span><span class="st">"mean"</span>,</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>                 cmap<span class="op">=</span><span class="st">"crest"</span>,</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>                 legend<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>                 edgecolor<span class="op">=</span><span class="st">"black"</span>,</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>                 lw<span class="op">=</span><span class="fl">0.25</span>,</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>                 legend_kwds<span class="op">=</span>{<span class="st">"label"</span>: <span class="st">"Score"</span>,</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"shrink"</span>: <span class="fl">0.75</span>,</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"orientation"</span>: <span class="st">"horizontal"</span>,</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"pad"</span>: <span class="fl">0.01</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>                              },</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>                 ax<span class="op">=</span>ax))</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>fig.suptitle(<span class="st">"NAEP Scores by Section and Grade (2024)"</span>, y<span class="op">=</span><span class="fl">0.88</span>)</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-naep_individual_sections" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-naep_individual_sections-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="final_files/figure-html/fig-naep_individual_sections-output-1.png" width="758" height="676" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-naep_individual_sections-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: NAEP scores across the US by section and grades in 2024.
</figcaption>
</figure>
</div>
</div>
</div>
<p>To more easily assess the total academic performance between 4th and 8th graders, the sum of individual NAEP tests were summed into a single aggregate score. Massachusetts clearly is #1 in terms of NAEP performance out of all states (<a href="#fig-naep_total" class="quarto-xref">Figure&nbsp;2</a>). In a separate figure (<a href="#fig-naep_total_time" class="quarto-xref">Figure&nbsp;3</a>), a time series of total NAEP scores are displayed for Massachusetts, Florida, and the national average. As noted by many sources, academic performance on the NAEP has declined across the country for many years and is a cause for concern in our national’s educational efforts. Florida has not been immune to this trend. In a table showing the total NAEP scores by state, Florida ranks 26th in 2024 (<a href="#tbl-naep_table" class="quarto-xref">Table&nbsp;1</a>).</p>
<div id="cell-fig-naep_total" class="cell" data-execution_count="5">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">14</span>, <span class="dv">7</span>))</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>ax.set_axis_off()</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>combined_scores_df <span class="op">=</span> naep_scores.df.groupby(</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"year"</span>, <span class="st">"location"</span>]).agg(total<span class="op">=</span>(<span class="st">"mean"</span>, <span class="st">"sum"</span>)).reset_index()</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>(states.merge(combined_scores_df.query(<span class="st">"year==2024"</span>),</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>              left_on<span class="op">=</span><span class="st">"NAME"</span>,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>              right_on<span class="op">=</span><span class="st">"location"</span>)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a> .plot(column<span class="op">=</span><span class="st">"total"</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>       cmap<span class="op">=</span><span class="st">"crest"</span>,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>       legend<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>       edgecolor<span class="op">=</span><span class="st">"black"</span>,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>       lw<span class="op">=</span><span class="fl">0.25</span>,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>       legend_kwds<span class="op">=</span>{<span class="st">"label"</span>: <span class="st">"NAEP Combined Scores"</span>,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"shrink"</span>: <span class="fl">0.5</span>,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"orientation"</span>: <span class="st">"horizontal"</span>,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"pad"</span>: <span class="fl">0.05</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>                    },</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>       ax<span class="op">=</span>ax</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>       )</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a> )</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"NAEP Combined Reading and Mathematics Score by State (2024)"</span>)</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-naep_total" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-naep_total-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="final_files/figure-html/fig-naep_total-output-1.png" width="697" height="546" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-naep_total-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Total NAEP scores across the US in 2024. Scores from reading and mathematics from 4th and 8th grade were summed for each state.
</figcaption>
</figure>
</div>
</div>
</div>
<div id="cell-fig-naep_total_time" class="cell" data-execution_count="6">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>compare <span class="op">=</span> [<span class="st">"Massachusetts"</span>, <span class="st">"Florida"</span>, <span class="st">"National"</span>]</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data<span class="op">=</span>combined_scores_df.query(<span class="st">"location in @compare"</span>),</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>             x<span class="op">=</span><span class="st">"year"</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>             y<span class="op">=</span><span class="st">"total"</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>             hue<span class="op">=</span><span class="st">"location"</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>             marker<span class="op">=</span><span class="st">"o"</span>,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>             )</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Total Reading and Mathematics NAEP Scores"</span>)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>plt.xticks([<span class="dv">2013</span>, <span class="dv">2015</span>, <span class="dv">2017</span>, <span class="dv">2019</span>, <span class="dv">2022</span>, <span class="dv">2024</span>])</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>plt.legend(title<span class="op">=</span><span class="st">"Location"</span>)</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>plt.grid()</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-naep_total_time" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-naep_total_time-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="final_files/figure-html/fig-naep_total_time-output-1.png" width="601" height="429" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-naep_total_time-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Total NAEP scores for Massachusetts, Florida, and the National average over time.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="college-admissions-tests" class="level1">
<h1>College Admissions Tests</h1>
<p>Each year, countless high school students rise early and head to testing centers across the country, ready to prove their college readiness through standardized exams like the SAT and ACT. These tests provide colleges with a consistent benchmark to assess applicants nationwide—one that isn’t influenced by local curriculum differences or <a href="https://eric.ed.gov/?id=ED621326">grade inflation</a>. In the absence of recent nationwide 12th-grade testing through the NAEP, these exams offer a valuable tool for comparing academic performance across state lines. We use data from the National Center for Education Statistics (NCES) which collect the testing results by state.</p>
<section id="participtation-rates-skew-results" class="level3">
<h3 class="anchored" data-anchor-id="participtation-rates-skew-results">Participtation Rates Skew Results</h3>
<p>However, the landscape of standardized testing is far from uniform. The ACT has traditionally dominated in the Midwest, while the SAT remains more common along the East and West Coasts (<a href="#fig-test_percents" class="quarto-xref">Figure&nbsp;4</a>). This geographic divide introduces complications. In states where a test isn’t widely taken, participation is typically limited to high-achieving students aiming to stand out which skews the results. As a result, SAT scores tend to appear inflated in ACT-heavy states, and vice versa for ACT scores in SAT-dominant regions (<a href="#fig-skewed_scores" class="quarto-xref">Figure&nbsp;5</a>). Understanding these patterns is essential when using test scores to compare student performance across the country.</p>
<div id="cell-fig-test_percents" class="cell" data-execution_count="7">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(ncols<span class="op">=</span><span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>), layout<span class="op">=</span><span class="st">"tight"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> ax.flatten()</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>[a.set_axis_off() <span class="cf">for</span> a <span class="kw">in</span> ax]</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>vmin <span class="op">=</span> test_scores.get_year(<span class="dv">2023</span>).df[<span class="st">"percent"</span>].<span class="bu">min</span>()</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>vmax <span class="op">=</span> test_scores.get_year(<span class="dv">2023</span>).df[<span class="st">"percent"</span>].<span class="bu">max</span>()</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>cmap <span class="op">=</span> <span class="st">"flare"</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>(states.merge(test_scores.get_year(<span class="dv">2023</span>).get_section(<span class="st">"total"</span>).query(<span class="st">"test=='SAT'"</span>).df,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>              left_on<span class="op">=</span><span class="st">"NAME"</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>              right_on<span class="op">=</span><span class="st">"location"</span>)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a> .plot(column<span class="op">=</span><span class="st">"percent"</span>, cmap<span class="op">=</span>cmap, vmin<span class="op">=</span>vmin,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>       vmax<span class="op">=</span>vmax, edgecolor<span class="op">=</span><span class="st">"black"</span>, lw<span class="op">=</span><span class="fl">0.25</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>       ax<span class="op">=</span>ax[<span class="dv">0</span>])</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a> )</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">"SAT"</span>, fontsize<span class="op">=</span><span class="dv">16</span>, y<span class="op">=</span><span class="fl">0.95</span>)</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>(states.merge(test_scores.get_year(<span class="dv">2023</span>).get_section(<span class="st">"composite"</span>).query(<span class="st">"test=='ACT'"</span>).df,</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>              left_on<span class="op">=</span><span class="st">"NAME"</span>,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>              right_on<span class="op">=</span><span class="st">"location"</span>).plot(column<span class="op">=</span><span class="st">"percent"</span>, cmap<span class="op">=</span>cmap, vmin<span class="op">=</span>vmin, vmax<span class="op">=</span>vmax, edgecolor<span class="op">=</span><span class="st">"black"</span>,</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>                                        lw<span class="op">=</span><span class="fl">0.25</span>, ax<span class="op">=</span>ax[<span class="dv">1</span>])</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a> )</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_title(<span class="st">"ACT"</span>, fontsize<span class="op">=</span><span class="dv">16</span>, y<span class="op">=</span><span class="fl">0.95</span>)</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>mappable <span class="op">=</span> cm.ScalarMappable(norm<span class="op">=</span>mcolors.Normalize(vmin, vmax), cmap<span class="op">=</span>cmap)</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>cbar <span class="op">=</span> fig.colorbar(mappable, fig.add_axes(</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    [<span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.8</span>, <span class="fl">0.05</span>]), orientation<span class="op">=</span><span class="st">"horizontal"</span>)</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>cbar.set_ticks([vmin, <span class="dv">20</span>, <span class="dv">40</span>, <span class="dv">60</span>, <span class="dv">80</span>, vmax])</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>plt.suptitle(</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Percentage of College Bound Seniors in 2024 that took:"</span>, y<span class="op">=</span><span class="fl">0.85</span>, fontsize<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-test_percents" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-test_percents-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="final_files/figure-html/fig-test_percents-output-1.png" width="762" height="330" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-test_percents-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Percentage of college bound seniors taking either the SAT or ACT during 2024.
</figcaption>
</figure>
</div>
</div>
</div>
<div id="cell-fig-skewed_scores" class="cell" data-execution_count="8">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(ncols<span class="op">=</span><span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>), layout<span class="op">=</span><span class="st">"tight"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> ax.flatten()</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>[a.set_axis_off() <span class="cf">for</span> a <span class="kw">in</span> ax]</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>cmap <span class="op">=</span> <span class="st">"crest"</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>(states.merge(test_scores.get_year(<span class="dv">2023</span>).get_section(<span class="st">"total"</span>).query(<span class="st">"test=='SAT'"</span>).df,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>              left_on<span class="op">=</span><span class="st">"NAME"</span>,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>              right_on<span class="op">=</span><span class="st">"location"</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a> .plot(column<span class="op">=</span><span class="st">"mean"</span>, cmap<span class="op">=</span>cmap, edgecolor<span class="op">=</span><span class="st">"black"</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>       lw<span class="op">=</span><span class="fl">0.25</span>, legend<span class="op">=</span><span class="va">True</span>, ax<span class="op">=</span>ax[<span class="dv">0</span>],</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>       legend_kwds<span class="op">=</span>{<span class="st">"label"</span>: <span class="st">"Total SAT Score"</span>,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"shrink"</span>: <span class="fl">0.75</span>,</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"orientation"</span>: <span class="st">"horizontal"</span>,</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"pad"</span>: <span class="fl">0.05</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>                    }</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>       )</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a> )</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">"SAT"</span>, fontsize<span class="op">=</span><span class="dv">16</span>, y<span class="op">=</span><span class="fl">0.90</span>)</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>(states.merge(test_scores.get_year(<span class="dv">2023</span>).get_section(<span class="st">"composite"</span>).query(<span class="st">"test=='ACT'"</span>).df,</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>              left_on<span class="op">=</span><span class="st">"NAME"</span>,</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>              right_on<span class="op">=</span><span class="st">"location"</span>)</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a> .plot(column<span class="op">=</span><span class="st">"mean"</span>, cmap<span class="op">=</span>cmap, edgecolor<span class="op">=</span><span class="st">"black"</span>,</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>       lw<span class="op">=</span><span class="fl">0.25</span>, legend<span class="op">=</span><span class="va">True</span>, ax<span class="op">=</span>ax[<span class="dv">1</span>],</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>       legend_kwds<span class="op">=</span>{<span class="st">"label"</span>: <span class="st">"Composite ACT Score"</span>,</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"shrink"</span>: <span class="fl">0.75</span>,</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"orientation"</span>: <span class="st">"horizontal"</span>,</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"pad"</span>: <span class="fl">0.05</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>                    }</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>       )</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a> )</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_title(<span class="st">"ACT"</span>, fontsize<span class="op">=</span><span class="dv">16</span>, y<span class="op">=</span><span class="fl">0.90</span>)</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"College Admissions Test Scores:"</span>, y<span class="op">=</span><span class="fl">0.875</span>, fontsize<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-skewed_scores" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-skewed_scores-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="final_files/figure-html/fig-skewed_scores-output-1.png" width="758" height="347" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-skewed_scores-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Average SAT and ACT score of college bound seniors during 2024.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="a-relationship-exists-between-particpitation-rates-and-scores" class="level3">
<h3 class="anchored" data-anchor-id="a-relationship-exists-between-particpitation-rates-and-scores">A Relationship Exists between Particpitation Rates and Scores</h3>
<p>In the figure below (<a href="#fig-per_score_cor" class="quarto-xref">Figure&nbsp;6</a>), a state’s percent participtation in the SAT or ACT by high school seniors is plotted against the average SAT or ACT score in that state, respectively. The data span multiple years between 2013-2023 for the ACT and 2017-2023 for the SAT. Clearly, a relationship exists between participation rates and the average score in a state.</p>
<p>The question is now how to minimize this discrepancy between states with varying participating rates in the SAT and ACT? One strategy is to convert ACT scores to SAT scores in states whose students favor the ACT. This way, we can more objectively see the performance of the average student on college admissions testing. An official conversion exists between the ACT and SAT based on concordance studies. However, the official conversion only records discrete ACT scores while the average ACT scores include decimals. A line of best fit was used to smooth the conversion table as shown below to better interpolate the ACT scores (<a href="#fig-act_coversion" class="quarto-xref">Figure&nbsp;7</a>).</p>
<div id="cell-fig-per_score_cor" class="cell" data-execution_count="9">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> custom_anomaly(scores, ax):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> regress(df, func):</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>        coeffs, pred <span class="op">=</span> anomaly.fit(df[<span class="st">"percent"</span>], df[<span class="st">"mean"</span>], func)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>        r2 <span class="op">=</span> anomaly.calculate_r2(df[<span class="st">"mean"</span>], pred)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> coeffs, pred, r2</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> plot(df, coeffs, r2, ax):</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        lin_coeffs, plaw_coeffs <span class="op">=</span> coeffs</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        lin_r2, plaw_r2 <span class="op">=</span> r2</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>        sns.scatterplot(data<span class="op">=</span>df,</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>                        x<span class="op">=</span><span class="st">"percent"</span>,</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>                        y<span class="op">=</span><span class="st">"mean"</span>,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>                        ax<span class="op">=</span>ax)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> np.linspace(df[<span class="st">"percent"</span>].<span class="bu">min</span>(), df[<span class="st">"percent"</span>].<span class="bu">max</span>(), num<span class="op">=</span><span class="dv">100</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>        ax.plot(x, anomaly.plaw(x, <span class="op">*</span>plaw_coeffs), color<span class="op">=</span><span class="st">"red"</span>)</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>        ax.plot(x, anomaly.linear(x, <span class="op">*</span>lin_coeffs), color<span class="op">=</span><span class="st">"orange"</span>)</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>        h <span class="op">=</span> [Line2D([<span class="dv">0</span>], [<span class="dv">0</span>], color<span class="op">=</span><span class="st">"red"</span>, label<span class="op">=</span><span class="ss">f"power law, R^2: </span><span class="sc">{</span>plaw_r2<span class="sc">:.4f}</span><span class="ss">"</span>),</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>             Line2D([<span class="dv">0</span>], [<span class="dv">0</span>], color<span class="op">=</span><span class="st">"orange"</span>, label<span class="op">=</span><span class="ss">f"linear, R^2: </span><span class="sc">{</span>lin_r2<span class="sc">:.4f}</span><span class="ss">"</span>)]</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>        ax.legend(handles<span class="op">=</span>h)</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>        ax.set_ylabel(<span class="st">"Average Score"</span>)</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>        ax.set_xlabel(<span class="st">"Percentage Participation"</span>)</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> fig</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="bu">apply</span>(df, ax):</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>        lin_coeffs, lin_pred, lin_r2 <span class="op">=</span> regress(df, anomaly.linear)</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>        plaw_coeffs, plaw_pred, plaw_r2 <span class="op">=</span> regress(df, anomaly.plaw)</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> plot(df, (lin_coeffs, plaw_coeffs), (lin_r2, plaw_r2), ax)</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">apply</span>(scores, ax<span class="op">=</span>ax)</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(ncols<span class="op">=</span><span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>custom_anomaly(test_scores.query(<span class="st">"test=='SAT'"</span>).get_section(<span class="st">"total"</span>).df, ax[<span class="dv">0</span>])</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>custom_anomaly(test_scores.query(<span class="st">"test=='ACT'"</span>).get_section(<span class="st">"composite"</span>).df, ax[<span class="dv">1</span>])</span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_ylabel(<span class="st">"Average Total SAT Score"</span>)</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_ylabel(<span class="st">"Average Composite ACT Score"</span>)</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"Effect of State Participation on College Admission Test Scores"</span>)</span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-per_score_cor" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-per_score_cor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="final_files/figure-html/fig-per_score_cor-output-1.png" width="676" height="394" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-per_score_cor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Effect of student participation on average college admissions test scores.
</figcaption>
</figure>
</div>
</div>
</div>
<div id="cell-fig-act_coversion" class="cell" data-execution_count="10">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>act_sat_conv <span class="op">=</span> pd.read_excel(<span class="st">"data/act_sat_conversion.xlsx"</span>, skiprows<span class="op">=</span><span class="dv">1</span>).sort_values(<span class="st">"ACT"</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> act_to_sat(x):</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.interp(x, act_sat_conv[<span class="st">"ACT"</span>], act_sat_conv[<span class="st">"SAT"</span>])</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data<span class="op">=</span>act_sat_conv,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>             x<span class="op">=</span><span class="st">"ACT"</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>             y<span class="op">=</span><span class="st">"SAT"</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>             marker<span class="op">=</span><span class="st">"o"</span>)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"SAT Score Equivalent"</span>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"ACT Score"</span>)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Official ACT to SAT Concordance"</span>)</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>plt.grid()</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-act_coversion" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-act_coversion-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="final_files/figure-html/fig-act_coversion-output-1.png" width="601" height="449" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-act_coversion-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Conversion between ACT to SAT Scores.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Even after converting ACT scores to their SAT equivalents in states where the ACT is more commonly taken, the underlying pattern remains (<a href="#fig-combined_cor" class="quarto-xref">Figure&nbsp;8</a>). The effect persists largely due to states where only a small percentage of students take either test. Participation in college admissions exams has declined significantly, especially after many colleges adopted test optional policies in response to the COVID-19 pandemic. For instance, in 2021, only 17% of Oregon students took the SAT, while just 20% took the ACT. Similarly, in California in 2022, only 21% of students sat for the SAT, and a mere 4% took the ACT. This reduced participation increases sampling bias, making it harder to draw accurate comparisons across states.</p>
<p>To address this bias, we propose comparing states based on their deviation from predicted performance. Specifically, we calculate the difference between each state’s actual performance and the expected performance at its level of test participation, represented by the orange trend line in the plot below. If a state (shown as a blue dot) appears above the orange line, it is performing better than average for its level of participation. Conversely, if a state falls below the line, it is underperforming relative to the expected outcome at that participation rate.</p>
<p>Note: A new line is fitted for each year to achieve better predictions although the plots are not shown.</p>
<div id="cell-fig-combined_cor" class="cell" data-execution_count="11">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>act_scores <span class="op">=</span> test_scores.get_section(<span class="st">"composite"</span>).df</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>act_scores_conv_df <span class="op">=</span> act_scores.assign(SAT_equiv<span class="op">=</span>act_to_sat(act_scores[<span class="st">"mean"</span>]))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                                       </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>sat_scores <span class="op">=</span> test_scores.get_section(<span class="st">"total"</span>).df</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>combined_scores <span class="op">=</span> (sat_scores.merge(act_scores_conv_df, on<span class="op">=</span>[<span class="st">"location"</span>, <span class="st">"year"</span>])</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>                             .rename({<span class="st">"percent_x"</span>: <span class="st">"SAT_percent"</span>,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">"mean_x"</span>: <span class="st">"SAT_mean"</span>,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">"percent_y"</span>: <span class="st">"ACT_percent"</span>}, axis<span class="op">=</span><span class="dv">1</span>))</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>majority_mean <span class="op">=</span> np.where(combined_scores[<span class="st">"ACT_percent"</span>] <span class="op">&gt;</span> combined_scores[<span class="st">"SAT_percent"</span>],</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>                         combined_scores[<span class="st">"SAT_equiv"</span>],</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>                         combined_scores[<span class="st">"SAT_mean"</span>])</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>majority_percent <span class="op">=</span> np.where(combined_scores[<span class="st">"ACT_percent"</span>] <span class="op">&gt;</span> combined_scores[<span class="st">"SAT_percent"</span>],</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>                            combined_scores[<span class="st">"ACT_percent"</span>],</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>                            combined_scores[<span class="st">"SAT_percent"</span>])</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>combined_scores <span class="op">=</span> (combined_scores.assign(mean<span class="op">=</span>majority_mean)</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>                                  .assign(percent<span class="op">=</span>majority_percent))</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>anomaly.anomaly(combined_scores, separate_years<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Average SAT Or ACT Equivalent Score"</span>)</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Effect on State Participation in College Admissions Testing on Scores"</span>)</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>combined_corrected_scores <span class="op">=</span> anomaly.anomaly(</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>    combined_scores, separate_years<span class="op">=</span><span class="va">True</span>, suppress<span class="op">=</span><span class="va">True</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>combined_corrected_scores <span class="op">=</span> combined_corrected_scores.assign(</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>    anom_c<span class="op">=</span>combined_corrected_scores[<span class="st">"mean"</span>]<span class="op">-</span>combined_corrected_scores[<span class="st">"lin_pred"</span>]</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-combined_cor" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-combined_cor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="final_files/figure-html/fig-combined_cor-output-1.png" width="615" height="449" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-combined_cor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Student participation in either the SAT or ACT remain low in certain states.
</figcaption>
</figure>
</div>
</div>
</div>
<p>After plotting the percentage participtation corrected performance by state, a similar result to the NAEP scores before materializes (<a href="#fig-corrected_scores" class="quarto-xref">Figure&nbsp;9</a>). Massachusetts comes out on top in the 2023 results while Florida lags behind at 43th (<a href="#tbl-corrected_scores" class="quarto-xref">Table&nbsp;2</a>). The raw SAT and ACT score tables are included below, but take in mind the sampling bias when interpreting those results (<a href="#tbl-sat" class="quarto-xref">Table&nbsp;3</a> and <a href="#tbl-act" class="quarto-xref">Table&nbsp;4</a>).</p>
<div id="cell-fig-corrected_scores" class="cell" data-execution_count="12">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>states.merge(combined_corrected_scores.query(<span class="st">"year==2023"</span>),</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>             left_on<span class="op">=</span><span class="st">"NAME"</span>,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>             right_on<span class="op">=</span><span class="st">"location"</span>).plot(column<span class="op">=</span><span class="st">"anom_c"</span>, cmap<span class="op">=</span><span class="st">"crest"</span>, edgecolor<span class="op">=</span><span class="st">"black"</span>,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>                                       lw<span class="op">=</span><span class="fl">0.25</span>, legend<span class="op">=</span><span class="va">True</span>, legend_kwds<span class="op">=</span>{<span class="st">"label"</span>: <span class="st">"Percent corrected performance"</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>                                                                          <span class="st">"shrink"</span>: <span class="fl">0.75</span>,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>                                                                          <span class="st">"orientation"</span>: <span class="st">"horizontal"</span>,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>                                                                          <span class="st">"pad"</span>: <span class="fl">0.05</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>                                                                          },</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>                                       ax<span class="op">=</span>ax)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Percentage Corrected Performance by State"</span>)</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>ax.set_axis_off()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-corrected_scores" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-corrected_scores-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="final_files/figure-html/fig-corrected_scores-output-1.png" width="614" height="495" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-corrected_scores-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: College admissions test (SAT or ACT Equivalent) performance corrected for state participtation levels.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="acknowledgements" class="level2">
<h2 class="anchored" data-anchor-id="acknowledgements">Acknowledgements</h2>
<p>Thank you to Oscar for sharing code on how to <a href="https://dev.to/oscarleo/how-to-create-data-maps-of-the-united-states-with-matplotlib-p9i">create maps</a> of the US. Thank you to NCES and NAEP for developing the data used for the analysis.</p>
</section>
</section>
<section id="tables" class="level1">
<h1>Tables</h1>
<div class="cell" data-execution_count="13">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>non_states <span class="op">=</span> [<span class="st">"DoDEA"</span>, <span class="st">"Puerto Rico"</span>, <span class="st">"District of Columbia"</span>, <span class="st">"National"</span>]</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>rankings <span class="op">=</span> (combined_scores_df.query(<span class="st">"location not in @non_states"</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>            .pivot_table(index<span class="op">=</span><span class="st">"location"</span>, columns<span class="op">=</span><span class="st">"year"</span>, values<span class="op">=</span><span class="st">"total"</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>            .sort_values(<span class="dv">2024</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>            .reset_index()</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>rankings.columns.name <span class="op">=</span> <span class="st">"2024 Rankings"</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>rankings.index <span class="op">=</span> rankings.index <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>rankings.<span class="bu">round</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-naep_table" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-execution_count="13">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-naep_table-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Total NAEP Scores by State
</figcaption>
<div aria-describedby="tbl-naep_table-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display" data-execution_count="13">
<div>


<table class="dataframe do-not-create-environment cell caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">2024 Rankings</th>
<th data-quarto-table-cell-role="th">location</th>
<th data-quarto-table-cell-role="th">2013</th>
<th data-quarto-table-cell-role="th">2015</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">2022</th>
<th data-quarto-table-cell-role="th">2024</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>Massachusetts</td>
<td>1063.0</td>
<td>1057.2</td>
<td>1059.6</td>
<td>1046.0</td>
<td>1020.9</td>
<td>1022.7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>New Jersey</td>
<td>1048.0</td>
<td>1039.1</td>
<td>1047.5</td>
<td>1035.3</td>
<td>1012.6</td>
<td>1009.4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>New Hampshire</td>
<td>1055.0</td>
<td>1050.3</td>
<td>1042.3</td>
<td>1024.0</td>
<td>1003.7</td>
<td>1006.7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>Utah</td>
<td>1020.0</td>
<td>1024.3</td>
<td>1023.2</td>
<td>1021.3</td>
<td>1008.1</td>
<td>1003.9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>Wyoming</td>
<td>1031.5</td>
<td>1030.4</td>
<td>1032.4</td>
<td>1023.5</td>
<td>1009.6</td>
<td>1003.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>Colorado</td>
<td>1034.3</td>
<td>1019.2</td>
<td>1022.0</td>
<td>1018.7</td>
<td>997.6</td>
<td>1002.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>Indiana</td>
<td>1029.0</td>
<td>1030.4</td>
<td>1032.7</td>
<td>1018.3</td>
<td>995.7</td>
<td>1000.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>Connecticut</td>
<td>1032.7</td>
<td>1026.1</td>
<td>1024.3</td>
<td>1023.5</td>
<td>995.8</td>
<td>998.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>Wisconsin</td>
<td>1021.8</td>
<td>1025.3</td>
<td>1017.5</td>
<td>1017.4</td>
<td>1001.0</td>
<td>997.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>Minnesota</td>
<td>1046.1</td>
<td>1037.3</td>
<td>1035.9</td>
<td>1025.4</td>
<td>995.0</td>
<td>997.3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>Montana</td>
<td>1027.7</td>
<td>1023.5</td>
<td>1015.9</td>
<td>1011.6</td>
<td>995.9</td>
<td>995.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>South Dakota</td>
<td>1014.3</td>
<td>1011.9</td>
<td>1017.1</td>
<td>1013.2</td>
<td>1000.4</td>
<td>994.9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>Ohio</td>
<td>1028.1</td>
<td>1019.5</td>
<td>1022.4</td>
<td>1015.9</td>
<td>994.4</td>
<td>994.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>North Dakota</td>
<td>1028.8</td>
<td>1024.6</td>
<td>1019.0</td>
<td>1012.9</td>
<td>994.1</td>
<td>993.9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>Idaho</td>
<td>1016.7</td>
<td>1012.8</td>
<td>1016.8</td>
<td>1016.8</td>
<td>996.4</td>
<td>992.9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16</td>
<td>Tennessee</td>
<td>1002.6</td>
<td>1002.3</td>
<td>996.5</td>
<td>1001.3</td>
<td>979.9</td>
<td>989.6</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>Illinois</td>
<td>1009.3</td>
<td>1008.1</td>
<td>1007.0</td>
<td>1002.8</td>
<td>991.9</td>
<td>989.4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>Pennsylvania</td>
<td>1032.1</td>
<td>1022.4</td>
<td>1022.5</td>
<td>1016.4</td>
<td>989.8</td>
<td>989.3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19</td>
<td>Iowa</td>
<td>1023.7</td>
<td>1021.6</td>
<td>1018.8</td>
<td>1005.2</td>
<td>994.8</td>
<td>987.2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20</td>
<td>Washington</td>
<td>1033.3</td>
<td>1024.6</td>
<td>1025.6</td>
<td>1011.3</td>
<td>989.2</td>
<td>986.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">21</td>
<td>Nebraska</td>
<td>1020.7</td>
<td>1026.4</td>
<td>1026.6</td>
<td>1015.1</td>
<td>998.9</td>
<td>985.9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">22</td>
<td>Kentucky</td>
<td>1016.2</td>
<td>1015.5</td>
<td>1006.1</td>
<td>1001.3</td>
<td>978.3</td>
<td>984.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>Virginia</td>
<td>1030.5</td>
<td>1030.1</td>
<td>1033.5</td>
<td>1019.4</td>
<td>989.1</td>
<td>983.2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">24</td>
<td>North Carolina</td>
<td>1017.2</td>
<td>1011.5</td>
<td>1009.5</td>
<td>1008.9</td>
<td>981.9</td>
<td>982.9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25</td>
<td>Hawaii</td>
<td>999.5</td>
<td>989.7</td>
<td>992.6</td>
<td>989.6</td>
<td>984.4</td>
<td>982.4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">26</td>
<td>Florida</td>
<td>1015.8</td>
<td>1008.6</td>
<td>1020.3</td>
<td>1012.5</td>
<td>996.4</td>
<td>981.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">27</td>
<td>Rhode Island</td>
<td>1015.0</td>
<td>1010.0</td>
<td>1003.9</td>
<td>997.4</td>
<td>981.1</td>
<td>981.2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">28</td>
<td>Vermont</td>
<td>1045.6</td>
<td>1037.7</td>
<td>1028.4</td>
<td>1015.8</td>
<td>991.5</td>
<td>980.4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">29</td>
<td>Mississippi</td>
<td>963.9</td>
<td>970.9</td>
<td>977.2</td>
<td>990.2</td>
<td>969.2</td>
<td>980.2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">30</td>
<td>Kansas</td>
<td>1026.0</td>
<td>1012.8</td>
<td>1017.3</td>
<td>1003.6</td>
<td>977.9</td>
<td>979.9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">31</td>
<td>Georgia</td>
<td>1005.7</td>
<td>999.4</td>
<td>1003.4</td>
<td>997.5</td>
<td>982.1</td>
<td>978.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">32</td>
<td>New York</td>
<td>1012.3</td>
<td>1002.8</td>
<td>1003.3</td>
<td>998.5</td>
<td>976.6</td>
<td>976.5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">33</td>
<td>Maryland</td>
<td>1037.7</td>
<td>1013.5</td>
<td>1013.8</td>
<td>1002.9</td>
<td>969.1</td>
<td>976.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">34</td>
<td>South Carolina</td>
<td>991.5</td>
<td>991.2</td>
<td>981.6</td>
<td>988.1</td>
<td>973.5</td>
<td>974.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">35</td>
<td>Texas</td>
<td>1010.7</td>
<td>1006.4</td>
<td>998.5</td>
<td>995.1</td>
<td>980.6</td>
<td>974.1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">36</td>
<td>Louisiana</td>
<td>971.9</td>
<td>974.4</td>
<td>963.8</td>
<td>970.2</td>
<td>963.1</td>
<td>973.8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">37</td>
<td>Missouri</td>
<td>1012.1</td>
<td>1009.4</td>
<td>1008.8</td>
<td>1000.5</td>
<td>975.5</td>
<td>972.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">38</td>
<td>Maine</td>
<td>1028.6</td>
<td>1019.2</td>
<td>1014.2</td>
<td>1009.5</td>
<td>975.1</td>
<td>970.4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">39</td>
<td>Michigan</td>
<td>1000.3</td>
<td>994.7</td>
<td>998.3</td>
<td>997.3</td>
<td>975.1</td>
<td>969.4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">40</td>
<td>California</td>
<td>983.6</td>
<td>978.5</td>
<td>986.8</td>
<td>985.6</td>
<td>973.3</td>
<td>967.9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">41</td>
<td>Nevada</td>
<td>990.0</td>
<td>982.8</td>
<td>981.7</td>
<td>985.1</td>
<td>969.0</td>
<td>964.8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">42</td>
<td>Arizona</td>
<td>993.6</td>
<td>998.6</td>
<td>995.1</td>
<td>992.9</td>
<td>976.7</td>
<td>964.5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43</td>
<td>Arkansas</td>
<td>998.3</td>
<td>987.1</td>
<td>983.7</td>
<td>981.5</td>
<td>962.0</td>
<td>961.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">44</td>
<td>Alabama</td>
<td>978.1</td>
<td>973.3</td>
<td>974.6</td>
<td>963.5</td>
<td>958.6</td>
<td>960.9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">45</td>
<td>Oregon</td>
<td>1011.0</td>
<td>1008.5</td>
<td>999.1</td>
<td>997.3</td>
<td>965.8</td>
<td>958.4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">46</td>
<td>Delaware</td>
<td>1017.2</td>
<td>1004.8</td>
<td>998.7</td>
<td>993.4</td>
<td>951.1</td>
<td>955.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">47</td>
<td>Oklahoma</td>
<td>993.3</td>
<td>998.9</td>
<td>989.8</td>
<td>988.2</td>
<td>952.8</td>
<td>953.1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">48</td>
<td>West Virginia</td>
<td>983.9</td>
<td>983.1</td>
<td>985.5</td>
<td>972.7</td>
<td>941.1</td>
<td>945.5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">49</td>
<td>Alaska</td>
<td>988.3</td>
<td>989.9</td>
<td>972.2</td>
<td>963.4</td>
<td>952.2</td>
<td>937.9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50</td>
<td>New Mexico</td>
<td>967.2</td>
<td>962.5</td>
<td>962.4</td>
<td>959.1</td>
<td>930.1</td>
<td>925.8</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</figure>
</div>
</div>
<div class="cell" data-execution_count="14">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>non_states <span class="op">=</span> [<span class="st">"District of Columbia"</span>, <span class="st">"United States"</span>]</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>combined_corrected_scores_states <span class="op">=</span> combined_corrected_scores.query(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"location not in @non_states"</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>rankings <span class="op">=</span> (combined_corrected_scores_states.pivot_table(index<span class="op">=</span><span class="st">"location"</span>, columns<span class="op">=</span><span class="st">"year"</span>, values<span class="op">=</span><span class="st">"anom_c"</span>)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>            .sort_values(<span class="dv">2023</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>            .reset_index())</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>rankings.columns.name <span class="op">=</span> <span class="st">"2023 Rankings"</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>rankings.index <span class="op">=</span> rankings.index <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>rankings.<span class="bu">round</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-corrected_scores" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-execution_count="14">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-corrected_scores-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: College admissions test (SAT or ACT Equivalent) performance corrected for state participtation levels.
</figcaption>
<div aria-describedby="tbl-corrected_scores-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display" data-execution_count="14">
<div>


<table class="dataframe do-not-create-environment cell caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">2023 Rankings</th>
<th data-quarto-table-cell-role="th">location</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">2020</th>
<th data-quarto-table-cell-role="th">2021</th>
<th data-quarto-table-cell-role="th">2022</th>
<th data-quarto-table-cell-role="th">2023</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>Massachusetts</td>
<td>50.3</td>
<td>67.7</td>
<td>71.3</td>
<td>76.1</td>
<td>99.3</td>
<td>68.5</td>
<td>60.8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>Virginia</td>
<td>33.4</td>
<td>41.2</td>
<td>48.7</td>
<td>48.6</td>
<td>75.1</td>
<td>51.5</td>
<td>47.1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>Utah</td>
<td>21.3</td>
<td>29.6</td>
<td>34.8</td>
<td>37.8</td>
<td>44.7</td>
<td>38.1</td>
<td>46.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>Minnesota</td>
<td>64.3</td>
<td>61.1</td>
<td>66.5</td>
<td>65.7</td>
<td>46.0</td>
<td>43.5</td>
<td>41.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>Wisconsin</td>
<td>29.3</td>
<td>33.6</td>
<td>34.8</td>
<td>33.8</td>
<td>33.3</td>
<td>26.6</td>
<td>40.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>Wyoming</td>
<td>17.3</td>
<td>13.6</td>
<td>16.8</td>
<td>20.8</td>
<td>21.0</td>
<td>32.6</td>
<td>37.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>Nebraska</td>
<td>44.0</td>
<td>17.6</td>
<td>22.8</td>
<td>26.8</td>
<td>20.7</td>
<td>28.3</td>
<td>36.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>North Dakota</td>
<td>19.1</td>
<td>22.5</td>
<td>13.1</td>
<td>8.0</td>
<td>26.3</td>
<td>25.7</td>
<td>35.5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>South Dakota</td>
<td>51.6</td>
<td>45.1</td>
<td>39.3</td>
<td>41.8</td>
<td>39.7</td>
<td>39.6</td>
<td>35.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>New Hampshire</td>
<td>16.9</td>
<td>30.4</td>
<td>33.5</td>
<td>33.3</td>
<td>26.8</td>
<td>34.0</td>
<td>29.6</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>New Jersey</td>
<td>-7.2</td>
<td>39.8</td>
<td>42.9</td>
<td>41.4</td>
<td>57.9</td>
<td>32.2</td>
<td>27.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>Montana</td>
<td>21.3</td>
<td>13.6</td>
<td>16.8</td>
<td>26.8</td>
<td>16.6</td>
<td>25.3</td>
<td>26.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>Vermont</td>
<td>40.0</td>
<td>38.1</td>
<td>32.4</td>
<td>32.3</td>
<td>48.1</td>
<td>22.5</td>
<td>25.8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>Kentucky</td>
<td>9.3</td>
<td>21.6</td>
<td>16.8</td>
<td>14.8</td>
<td>14.3</td>
<td>3.7</td>
<td>25.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>Connecticut</td>
<td>10.3</td>
<td>26.6</td>
<td>28.8</td>
<td>28.8</td>
<td>31.3</td>
<td>22.7</td>
<td>21.8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16</td>
<td>Arkansas</td>
<td>-8.7</td>
<td>-4.4</td>
<td>1.8</td>
<td>-0.2</td>
<td>7.1</td>
<td>6.6</td>
<td>14.3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>Tennessee</td>
<td>3.3</td>
<td>1.6</td>
<td>4.8</td>
<td>8.8</td>
<td>11.3</td>
<td>10.6</td>
<td>13.7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>Oregon</td>
<td>15.6</td>
<td>10.4</td>
<td>13.5</td>
<td>13.7</td>
<td>-38.3</td>
<td>26.0</td>
<td>13.3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19</td>
<td>Ohio</td>
<td>52.2</td>
<td>25.6</td>
<td>22.8</td>
<td>26.8</td>
<td>7.5</td>
<td>7.7</td>
<td>10.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20</td>
<td>Pennsylvania</td>
<td>2.4</td>
<td>13.3</td>
<td>15.0</td>
<td>13.9</td>
<td>44.6</td>
<td>18.5</td>
<td>10.3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">21</td>
<td>Louisiana</td>
<td>-5.7</td>
<td>-10.4</td>
<td>-15.2</td>
<td>-12.2</td>
<td>-18.2</td>
<td>-9.4</td>
<td>5.7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">22</td>
<td>Colorado</td>
<td>41.3</td>
<td>-1.4</td>
<td>6.8</td>
<td>1.8</td>
<td>15.0</td>
<td>10.2</td>
<td>5.3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>Iowa</td>
<td>40.6</td>
<td>28.2</td>
<td>24.4</td>
<td>20.5</td>
<td>26.7</td>
<td>21.2</td>
<td>4.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">24</td>
<td>Kansas</td>
<td>41.1</td>
<td>26.9</td>
<td>22.3</td>
<td>16.4</td>
<td>8.9</td>
<td>7.3</td>
<td>2.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25</td>
<td>North Carolina</td>
<td>-17.7</td>
<td>-13.4</td>
<td>-7.2</td>
<td>-8.2</td>
<td>-5.7</td>
<td>-14.0</td>
<td>-0.7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">26</td>
<td>Missouri</td>
<td>25.3</td>
<td>13.6</td>
<td>24.9</td>
<td>21.8</td>
<td>15.8</td>
<td>6.3</td>
<td>-0.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">27</td>
<td>Indiana</td>
<td>3.3</td>
<td>8.7</td>
<td>6.4</td>
<td>5.0</td>
<td>21.6</td>
<td>0.5</td>
<td>-1.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">28</td>
<td>Alabama</td>
<td>-14.7</td>
<td>-13.4</td>
<td>-11.2</td>
<td>-8.2</td>
<td>-3.7</td>
<td>-13.4</td>
<td>-2.3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">29</td>
<td>New York</td>
<td>-14.4</td>
<td>9.2</td>
<td>11.9</td>
<td>13.5</td>
<td>-1.3</td>
<td>13.3</td>
<td>-3.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">30</td>
<td>Georgia</td>
<td>-22.9</td>
<td>-8.7</td>
<td>-7.3</td>
<td>-9.5</td>
<td>10.1</td>
<td>-2.2</td>
<td>-4.5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">31</td>
<td>Maine</td>
<td>-24.1</td>
<td>-14.9</td>
<td>-5.9</td>
<td>-18.5</td>
<td>8.0</td>
<td>-0.1</td>
<td>-6.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">32</td>
<td>Washington</td>
<td>5.3</td>
<td>6.8</td>
<td>7.0</td>
<td>12.1</td>
<td>-21.5</td>
<td>-3.9</td>
<td>-6.9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">33</td>
<td>Illinois</td>
<td>53.7</td>
<td>-8.9</td>
<td>-4.2</td>
<td>-6.5</td>
<td>-19.8</td>
<td>-7.6</td>
<td>-9.7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">34</td>
<td>Oklahoma</td>
<td>-8.7</td>
<td>-7.4</td>
<td>-11.2</td>
<td>-12.2</td>
<td>-23.5</td>
<td>-27.7</td>
<td>-10.3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">35</td>
<td>Michigan</td>
<td>-25.7</td>
<td>-15.4</td>
<td>-14.2</td>
<td>-12.2</td>
<td>-10.9</td>
<td>-10.8</td>
<td>-10.8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">36</td>
<td>Idaho</td>
<td>-33.3</td>
<td>-25.4</td>
<td>-24.2</td>
<td>-26.2</td>
<td>-29.3</td>
<td>-2.6</td>
<td>-11.5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">37</td>
<td>Maryland</td>
<td>-4.3</td>
<td>16.6</td>
<td>10.9</td>
<td>-0.8</td>
<td>4.7</td>
<td>12.8</td>
<td>-17.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">38</td>
<td>Arizona</td>
<td>-40.8</td>
<td>-62.9</td>
<td>-52.0</td>
<td>-44.6</td>
<td>-49.4</td>
<td>-59.1</td>
<td>-18.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">39</td>
<td>Mississippi</td>
<td>-36.7</td>
<td>-32.4</td>
<td>-31.2</td>
<td>-32.2</td>
<td>-27.7</td>
<td>-21.4</td>
<td>-18.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">40</td>
<td>Alaska</td>
<td>-34.6</td>
<td>-8.3</td>
<td>-18.0</td>
<td>-15.1</td>
<td>20.5</td>
<td>-0.2</td>
<td>-18.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">41</td>
<td>Delaware</td>
<td>-34.7</td>
<td>-28.4</td>
<td>-32.2</td>
<td>-32.2</td>
<td>-22.7</td>
<td>-24.0</td>
<td>-23.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">42</td>
<td>Rhode Island</td>
<td>-0.1</td>
<td>-13.0</td>
<td>-22.2</td>
<td>-20.2</td>
<td>-30.9</td>
<td>-24.4</td>
<td>-23.5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43</td>
<td>Florida</td>
<td>-32.1</td>
<td>-17.0</td>
<td>-18.2</td>
<td>-18.2</td>
<td>-32.6</td>
<td>-22.7</td>
<td>-24.7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">44</td>
<td>California</td>
<td>-26.6</td>
<td>-12.1</td>
<td>-13.6</td>
<td>-15.1</td>
<td>-40.3</td>
<td>-3.8</td>
<td>-26.9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">45</td>
<td>Nevada</td>
<td>-68.7</td>
<td>-68.4</td>
<td>-51.2</td>
<td>-44.2</td>
<td>-39.7</td>
<td>-41.4</td>
<td>-34.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">46</td>
<td>South Carolina</td>
<td>-32.7</td>
<td>-44.4</td>
<td>-51.7</td>
<td>-63.4</td>
<td>-70.6</td>
<td>-37.4</td>
<td>-36.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">47</td>
<td>Texas</td>
<td>-51.8</td>
<td>-46.9</td>
<td>-48.3</td>
<td>-44.3</td>
<td>-50.2</td>
<td>-44.1</td>
<td>-47.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">48</td>
<td>West Virginia</td>
<td>-8.3</td>
<td>-28.4</td>
<td>-75.9</td>
<td>-77.5</td>
<td>-63.9</td>
<td>-72.8</td>
<td>-67.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">49</td>
<td>Hawaii</td>
<td>-31.5</td>
<td>-37.4</td>
<td>-40.4</td>
<td>-49.6</td>
<td>-65.2</td>
<td>-61.9</td>
<td>-72.4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50</td>
<td>New Mexico</td>
<td>-36.5</td>
<td>-55.3</td>
<td>-59.6</td>
<td>-63.1</td>
<td>-93.7</td>
<td>-106.8</td>
<td>-82.3</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</figure>
</div>
</div>
<div class="cell" data-execution_count="15">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>rankings <span class="op">=</span> (combined_corrected_scores_states.pivot_table(index<span class="op">=</span><span class="st">"location"</span>, columns<span class="op">=</span><span class="st">"year"</span>, values<span class="op">=</span><span class="st">"SAT_mean"</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>            .sort_values(<span class="dv">2023</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>            .reset_index())</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>rankings.columns.name <span class="op">=</span> <span class="st">"2023 Rankings"</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>rankings.index <span class="op">=</span> rankings.index <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>rankings.<span class="bu">round</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-sat" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-execution_count="15">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-sat-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: SAT performance by state
</figcaption>
<div aria-describedby="tbl-sat-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display" data-execution_count="15">
<div>


<table class="dataframe do-not-create-environment cell caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">2023 Rankings</th>
<th data-quarto-table-cell-role="th">location</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">2020</th>
<th data-quarto-table-cell-role="th">2021</th>
<th data-quarto-table-cell-role="th">2022</th>
<th data-quarto-table-cell-role="th">2023</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>North Dakota</td>
<td>1256.0</td>
<td>1283.0</td>
<td>1263.0</td>
<td>1231.0</td>
<td>1258.0</td>
<td>1212.0</td>
<td>1287.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>Nebraska</td>
<td>1253.0</td>
<td>1252.0</td>
<td>1260.0</td>
<td>1229.0</td>
<td>1246.0</td>
<td>1222.0</td>
<td>1252.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>Kansas</td>
<td>1260.0</td>
<td>1265.0</td>
<td>1241.0</td>
<td>1237.0</td>
<td>1243.0</td>
<td>1238.0</td>
<td>1245.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>Utah</td>
<td>1238.0</td>
<td>1230.0</td>
<td>1230.0</td>
<td>1204.0</td>
<td>1238.0</td>
<td>1233.0</td>
<td>1239.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>Wisconsin</td>
<td>1291.0</td>
<td>1294.0</td>
<td>1283.0</td>
<td>1243.0</td>
<td>1215.0</td>
<td>1252.0</td>
<td>1236.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>Iowa</td>
<td>1275.0</td>
<td>1265.0</td>
<td>1244.0</td>
<td>1220.0</td>
<td>1243.0</td>
<td>1196.0</td>
<td>1208.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>South Dakota</td>
<td>1216.0</td>
<td>1241.0</td>
<td>1268.0</td>
<td>1218.0</td>
<td>1215.0</td>
<td>1219.0</td>
<td>1208.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>Kentucky</td>
<td>1247.0</td>
<td>1248.0</td>
<td>1232.0</td>
<td>1207.0</td>
<td>1219.0</td>
<td>1219.0</td>
<td>1208.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>Minnesota</td>
<td>1295.0</td>
<td>1298.0</td>
<td>1284.0</td>
<td>1257.0</td>
<td>1263.0</td>
<td>1225.0</td>
<td>1201.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>Wyoming</td>
<td>1230.0</td>
<td>1257.0</td>
<td>1238.0</td>
<td>1220.0</td>
<td>1233.0</td>
<td>1244.0</td>
<td>1200.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>Louisiana</td>
<td>1198.0</td>
<td>1210.0</td>
<td>1200.0</td>
<td>1170.0</td>
<td>1188.0</td>
<td>1171.0</td>
<td>1194.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>Montana</td>
<td>1196.0</td>
<td>1198.0</td>
<td>1199.0</td>
<td>1185.0</td>
<td>1225.0</td>
<td>1206.0</td>
<td>1193.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>Arkansas</td>
<td>1208.0</td>
<td>1169.0</td>
<td>1141.0</td>
<td>1157.0</td>
<td>1194.0</td>
<td>1191.0</td>
<td>1192.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>Tennessee</td>
<td>1228.0</td>
<td>1231.0</td>
<td>1220.0</td>
<td>1186.0</td>
<td>1220.0</td>
<td>1200.0</td>
<td>1191.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>Missouri</td>
<td>1271.0</td>
<td>1262.0</td>
<td>1236.0</td>
<td>1212.0</td>
<td>1219.0</td>
<td>1200.0</td>
<td>1191.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16</td>
<td>Mississippi</td>
<td>1242.0</td>
<td>1236.0</td>
<td>1237.0</td>
<td>1203.0</td>
<td>1202.0</td>
<td>1226.0</td>
<td>1184.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>Arizona</td>
<td>1116.0</td>
<td>1149.0</td>
<td>1134.0</td>
<td>1139.0</td>
<td>1181.0</td>
<td>1159.0</td>
<td>1183.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>Nevada</td>
<td>1116.0</td>
<td>1140.0</td>
<td>1156.0</td>
<td>1150.0</td>
<td>1195.0</td>
<td>1172.0</td>
<td>1166.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19</td>
<td>Alabama</td>
<td>1165.0</td>
<td>1166.0</td>
<td>1143.0</td>
<td>1127.0</td>
<td>1159.0</td>
<td>1146.0</td>
<td>1161.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20</td>
<td>North Carolina</td>
<td>1081.0</td>
<td>1098.0</td>
<td>1100.0</td>
<td>1096.0</td>
<td>1150.0</td>
<td>1136.0</td>
<td>1127.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">21</td>
<td>Oregon</td>
<td>1108.0</td>
<td>1117.0</td>
<td>1112.0</td>
<td>1104.0</td>
<td>1119.0</td>
<td>1143.0</td>
<td>1125.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">22</td>
<td>Hawaii</td>
<td>1085.0</td>
<td>1099.0</td>
<td>1100.0</td>
<td>1095.0</td>
<td>1144.0</td>
<td>1124.0</td>
<td>1114.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>Virginia</td>
<td>1102.0</td>
<td>1117.0</td>
<td>1119.0</td>
<td>1116.0</td>
<td>1151.0</td>
<td>1124.0</td>
<td>1113.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">24</td>
<td>Massachusetts</td>
<td>1107.0</td>
<td>1125.0</td>
<td>1120.0</td>
<td>1119.0</td>
<td>1184.0</td>
<td>1129.0</td>
<td>1112.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25</td>
<td>Vermont</td>
<td>1114.0</td>
<td>1120.0</td>
<td>1106.0</td>
<td>1103.0</td>
<td>1124.0</td>
<td>1095.0</td>
<td>1099.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">26</td>
<td>California</td>
<td>1055.0</td>
<td>1076.0</td>
<td>1065.0</td>
<td>1049.0</td>
<td>1057.0</td>
<td>1115.0</td>
<td>1083.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">27</td>
<td>Alaska</td>
<td>1080.0</td>
<td>1106.0</td>
<td>1097.0</td>
<td>1098.0</td>
<td>1119.0</td>
<td>1110.0</td>
<td>1082.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">28</td>
<td>Washington</td>
<td>1075.0</td>
<td>1081.0</td>
<td>1074.0</td>
<td>1073.0</td>
<td>1072.0</td>
<td>1096.0</td>
<td>1081.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">29</td>
<td>Maine</td>
<td>1012.0</td>
<td>1013.0</td>
<td>1013.0</td>
<td>995.0</td>
<td>1099.0</td>
<td>1081.0</td>
<td>1080.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">30</td>
<td>Pennsylvania</td>
<td>1071.0</td>
<td>1086.0</td>
<td>1082.0</td>
<td>1078.0</td>
<td>1123.0</td>
<td>1091.0</td>
<td>1078.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">31</td>
<td>New Jersey</td>
<td>1056.0</td>
<td>1094.0</td>
<td>1090.0</td>
<td>1081.0</td>
<td>1125.0</td>
<td>1079.0</td>
<td>1066.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">32</td>
<td>Georgia</td>
<td>1050.0</td>
<td>1064.0</td>
<td>1058.0</td>
<td>1053.0</td>
<td>1086.0</td>
<td>1060.0</td>
<td>1054.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">33</td>
<td>Ohio</td>
<td>1149.0</td>
<td>1099.0</td>
<td>1097.0</td>
<td>1070.0</td>
<td>1048.0</td>
<td>1053.0</td>
<td>1044.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">34</td>
<td>New York</td>
<td>1052.0</td>
<td>1068.0</td>
<td>1064.0</td>
<td>1058.0</td>
<td>1057.0</td>
<td>1067.0</td>
<td>1039.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">35</td>
<td>New Hampshire</td>
<td>1052.0</td>
<td>1063.0</td>
<td>1059.0</td>
<td>1055.0</td>
<td>1065.0</td>
<td>1050.0</td>
<td>1035.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">36</td>
<td>South Carolina</td>
<td>1064.0</td>
<td>1070.0</td>
<td>1030.0</td>
<td>1026.0</td>
<td>1036.0</td>
<td>1030.0</td>
<td>1028.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">37</td>
<td>Maryland</td>
<td>1060.0</td>
<td>1080.0</td>
<td>1058.0</td>
<td>1029.0</td>
<td>1073.0</td>
<td>1075.0</td>
<td>1008.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">38</td>
<td>Connecticut</td>
<td>1041.0</td>
<td>1053.0</td>
<td>1046.0</td>
<td>1039.0</td>
<td>1072.0</td>
<td>1025.0</td>
<td>1007.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">39</td>
<td>Colorado</td>
<td>1201.0</td>
<td>1025.0</td>
<td>1024.0</td>
<td>1012.0</td>
<td>1072.0</td>
<td>1021.0</td>
<td>996.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">40</td>
<td>Texas</td>
<td>1020.0</td>
<td>1032.0</td>
<td>1022.0</td>
<td>1010.0</td>
<td>1003.0</td>
<td>1001.0</td>
<td>978.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">41</td>
<td>Indiana</td>
<td>1074.0</td>
<td>1086.0</td>
<td>1080.0</td>
<td>1074.0</td>
<td>1095.0</td>
<td>1073.0</td>
<td>971.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">42</td>
<td>Idaho</td>
<td>1005.0</td>
<td>1001.0</td>
<td>993.0</td>
<td>984.0</td>
<td>985.0</td>
<td>986.0</td>
<td>970.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43</td>
<td>Illinois</td>
<td>1115.0</td>
<td>1019.0</td>
<td>1013.0</td>
<td>1007.0</td>
<td>1007.0</td>
<td>981.0</td>
<td>970.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">44</td>
<td>Michigan</td>
<td>1005.0</td>
<td>1011.0</td>
<td>1003.0</td>
<td>998.0</td>
<td>1031.0</td>
<td>1000.0</td>
<td>967.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">45</td>
<td>Florida</td>
<td>1017.0</td>
<td>1014.0</td>
<td>999.0</td>
<td>992.0</td>
<td>993.0</td>
<td>983.0</td>
<td>966.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">46</td>
<td>Rhode Island</td>
<td>1062.0</td>
<td>1018.0</td>
<td>995.0</td>
<td>990.0</td>
<td>1011.0</td>
<td>971.0</td>
<td>958.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">47</td>
<td>Delaware</td>
<td>996.0</td>
<td>998.0</td>
<td>985.0</td>
<td>978.0</td>
<td>984.0</td>
<td>968.0</td>
<td>958.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">48</td>
<td>Oklahoma</td>
<td>1047.0</td>
<td>1062.0</td>
<td>963.0</td>
<td>971.0</td>
<td>1042.0</td>
<td>951.0</td>
<td>953.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">49</td>
<td>West Virginia</td>
<td>1086.0</td>
<td>999.0</td>
<td>943.0</td>
<td>936.0</td>
<td>1007.0</td>
<td>938.0</td>
<td>923.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50</td>
<td>New Mexico</td>
<td>1138.0</td>
<td>1093.0</td>
<td>1073.0</td>
<td>1055.0</td>
<td>996.0</td>
<td>976.0</td>
<td>901.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</figure>
</div>
</div>
<div class="cell" data-execution_count="16">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>rankings <span class="op">=</span> (combined_corrected_scores_states.pivot_table(index<span class="op">=</span><span class="st">"location"</span>, columns<span class="op">=</span><span class="st">"year"</span>, values<span class="op">=</span><span class="st">"mean_y"</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>            .sort_values(<span class="dv">2023</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>            .reset_index())</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>rankings.columns.name <span class="op">=</span> <span class="st">"2023 Rankings"</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>rankings.index <span class="op">=</span> rankings.index <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>rankings.<span class="bu">round</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="tbl-act" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-execution_count="16">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-act-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4: ACT performance by state
</figcaption>
<div aria-describedby="tbl-act-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display" data-execution_count="16">
<div>


<table class="dataframe do-not-create-environment cell caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">2023 Rankings</th>
<th data-quarto-table-cell-role="th">location</th>
<th data-quarto-table-cell-role="th">2017</th>
<th data-quarto-table-cell-role="th">2018</th>
<th data-quarto-table-cell-role="th">2019</th>
<th data-quarto-table-cell-role="th">2020</th>
<th data-quarto-table-cell-role="th">2021</th>
<th data-quarto-table-cell-role="th">2022</th>
<th data-quarto-table-cell-role="th">2023</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>Connecticut</td>
<td>25.2</td>
<td>25.6</td>
<td>25.5</td>
<td>25.9</td>
<td>27.2</td>
<td>26.3</td>
<td>26.4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>Massachusetts</td>
<td>25.4</td>
<td>25.5</td>
<td>25.5</td>
<td>26.0</td>
<td>27.6</td>
<td>26.5</td>
<td>26.4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>California</td>
<td>22.8</td>
<td>22.7</td>
<td>22.6</td>
<td>23.3</td>
<td>26.1</td>
<td>26.5</td>
<td>25.7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>New York</td>
<td>24.2</td>
<td>24.5</td>
<td>24.5</td>
<td>24.9</td>
<td>26.3</td>
<td>25.3</td>
<td>25.3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>New Hampshire</td>
<td>25.5</td>
<td>25.1</td>
<td>25.0</td>
<td>25.7</td>
<td>26.6</td>
<td>25.7</td>
<td>25.2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>Delaware</td>
<td>24.1</td>
<td>23.8</td>
<td>24.0</td>
<td>24.2</td>
<td>25.7</td>
<td>24.9</td>
<td>24.8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>Maine</td>
<td>24.3</td>
<td>24.0</td>
<td>24.3</td>
<td>24.9</td>
<td>25.6</td>
<td>25.1</td>
<td>24.8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>Virginia</td>
<td>23.8</td>
<td>23.9</td>
<td>24.0</td>
<td>24.4</td>
<td>25.5</td>
<td>24.6</td>
<td>24.6</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>Maryland</td>
<td>23.6</td>
<td>22.5</td>
<td>22.3</td>
<td>23.8</td>
<td>25.5</td>
<td>24.4</td>
<td>24.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10</td>
<td>Colorado</td>
<td>20.8</td>
<td>23.9</td>
<td>23.8</td>
<td>23.7</td>
<td>23.6</td>
<td>23.2</td>
<td>24.5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11</td>
<td>Washington</td>
<td>21.9</td>
<td>22.2</td>
<td>22.1</td>
<td>22.9</td>
<td>23.6</td>
<td>24.6</td>
<td>24.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>Illinois</td>
<td>21.4</td>
<td>23.9</td>
<td>24.3</td>
<td>24.7</td>
<td>25.2</td>
<td>24.5</td>
<td>24.5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">13</td>
<td>Rhode Island</td>
<td>24.0</td>
<td>24.2</td>
<td>24.7</td>
<td>24.8</td>
<td>25.8</td>
<td>25.2</td>
<td>24.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">14</td>
<td>New Jersey</td>
<td>23.9</td>
<td>23.7</td>
<td>24.2</td>
<td>24.4</td>
<td>25.1</td>
<td>24.6</td>
<td>24.4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15</td>
<td>Michigan</td>
<td>24.1</td>
<td>24.4</td>
<td>24.4</td>
<td>24.6</td>
<td>25.1</td>
<td>24.6</td>
<td>24.4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16</td>
<td>Pennsylvania</td>
<td>23.7</td>
<td>23.5</td>
<td>23.6</td>
<td>23.7</td>
<td>25.0</td>
<td>24.4</td>
<td>23.9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>Vermont</td>
<td>23.6</td>
<td>24.1</td>
<td>24.1</td>
<td>23.3</td>
<td>24.7</td>
<td>23.7</td>
<td>23.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>Idaho</td>
<td>22.3</td>
<td>22.3</td>
<td>22.5</td>
<td>22.7</td>
<td>23.0</td>
<td>22.8</td>
<td>23.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19</td>
<td>Indiana</td>
<td>22.6</td>
<td>22.5</td>
<td>22.5</td>
<td>22.6</td>
<td>23.1</td>
<td>22.8</td>
<td>22.9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20</td>
<td>Georgia</td>
<td>21.4</td>
<td>21.4</td>
<td>21.4</td>
<td>21.7</td>
<td>22.6</td>
<td>21.6</td>
<td>21.3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">21</td>
<td>South Dakota</td>
<td>21.8</td>
<td>21.9</td>
<td>21.6</td>
<td>21.7</td>
<td>21.6</td>
<td>21.5</td>
<td>21.1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">22</td>
<td>Oregon</td>
<td>21.8</td>
<td>21.3</td>
<td>21.1</td>
<td>21.0</td>
<td>20.6</td>
<td>23.0</td>
<td>20.9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>Iowa</td>
<td>21.9</td>
<td>21.8</td>
<td>21.6</td>
<td>21.1</td>
<td>21.5</td>
<td>21.4</td>
<td>20.8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">24</td>
<td>Minnesota</td>
<td>21.5</td>
<td>21.3</td>
<td>21.4</td>
<td>21.3</td>
<td>21.6</td>
<td>21.0</td>
<td>20.8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25</td>
<td>West Virginia</td>
<td>20.4</td>
<td>20.3</td>
<td>20.8</td>
<td>20.9</td>
<td>20.8</td>
<td>20.5</td>
<td>20.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">26</td>
<td>Alaska</td>
<td>19.8</td>
<td>20.8</td>
<td>20.1</td>
<td>20.1</td>
<td>20.6</td>
<td>20.4</td>
<td>20.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">27</td>
<td>New Mexico</td>
<td>19.7</td>
<td>19.4</td>
<td>19.3</td>
<td>19.3</td>
<td>20.7</td>
<td>19.8</td>
<td>20.2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">28</td>
<td>Utah</td>
<td>20.3</td>
<td>20.4</td>
<td>20.3</td>
<td>20.2</td>
<td>20.6</td>
<td>19.9</td>
<td>19.9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">29</td>
<td>Missouri</td>
<td>20.4</td>
<td>20.0</td>
<td>20.8</td>
<td>20.7</td>
<td>20.6</td>
<td>20.2</td>
<td>19.8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">30</td>
<td>North Dakota</td>
<td>20.3</td>
<td>20.3</td>
<td>19.9</td>
<td>19.6</td>
<td>19.6</td>
<td>19.2</td>
<td>19.6</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">31</td>
<td>Kansas</td>
<td>21.7</td>
<td>21.6</td>
<td>21.2</td>
<td>20.4</td>
<td>19.9</td>
<td>19.9</td>
<td>19.4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">32</td>
<td>Wisconsin</td>
<td>20.5</td>
<td>20.5</td>
<td>20.3</td>
<td>20.1</td>
<td>20.0</td>
<td>19.4</td>
<td>19.4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">33</td>
<td>Texas</td>
<td>20.7</td>
<td>20.6</td>
<td>20.5</td>
<td>20.2</td>
<td>20.1</td>
<td>19.8</td>
<td>19.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">34</td>
<td>Ohio</td>
<td>22.0</td>
<td>20.3</td>
<td>20.0</td>
<td>19.9</td>
<td>19.6</td>
<td>19.4</td>
<td>19.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">35</td>
<td>Nebraska</td>
<td>21.4</td>
<td>20.1</td>
<td>20.0</td>
<td>19.9</td>
<td>20.0</td>
<td>19.4</td>
<td>19.2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">36</td>
<td>Wyoming</td>
<td>20.2</td>
<td>20.0</td>
<td>19.8</td>
<td>19.7</td>
<td>19.8</td>
<td>19.2</td>
<td>19.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">37</td>
<td>Florida</td>
<td>19.8</td>
<td>19.9</td>
<td>20.1</td>
<td>20.6</td>
<td>20.4</td>
<td>19.0</td>
<td>18.9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">38</td>
<td>South Carolina</td>
<td>18.7</td>
<td>18.3</td>
<td>18.8</td>
<td>18.4</td>
<td>18.6</td>
<td>18.9</td>
<td>18.8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">39</td>
<td>Montana</td>
<td>20.3</td>
<td>20.0</td>
<td>19.8</td>
<td>19.9</td>
<td>20.4</td>
<td>19.3</td>
<td>18.8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">40</td>
<td>Kentucky</td>
<td>20.0</td>
<td>20.2</td>
<td>19.8</td>
<td>19.5</td>
<td>19.2</td>
<td>18.6</td>
<td>18.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">41</td>
<td>Arkansas</td>
<td>19.4</td>
<td>19.4</td>
<td>19.3</td>
<td>19.0</td>
<td>19.0</td>
<td>18.8</td>
<td>18.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">42</td>
<td>North Carolina</td>
<td>19.1</td>
<td>19.1</td>
<td>19.0</td>
<td>18.8</td>
<td>18.9</td>
<td>18.5</td>
<td>18.5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43</td>
<td>Tennessee</td>
<td>19.8</td>
<td>19.6</td>
<td>19.4</td>
<td>19.3</td>
<td>19.1</td>
<td>18.6</td>
<td>18.4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">44</td>
<td>Louisiana</td>
<td>19.5</td>
<td>19.2</td>
<td>18.8</td>
<td>18.7</td>
<td>18.4</td>
<td>18.1</td>
<td>18.2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">45</td>
<td>Alabama</td>
<td>19.2</td>
<td>19.1</td>
<td>18.9</td>
<td>18.8</td>
<td>18.7</td>
<td>18.0</td>
<td>18.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">46</td>
<td>Hawaii</td>
<td>19.0</td>
<td>18.9</td>
<td>19.0</td>
<td>18.5</td>
<td>18.2</td>
<td>18.8</td>
<td>17.9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">47</td>
<td>Oklahoma</td>
<td>19.4</td>
<td>19.3</td>
<td>18.9</td>
<td>18.7</td>
<td>19.7</td>
<td>17.9</td>
<td>17.8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">48</td>
<td>Arizona</td>
<td>19.7</td>
<td>19.2</td>
<td>19.0</td>
<td>19.1</td>
<td>19.8</td>
<td>18.4</td>
<td>17.7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">49</td>
<td>Mississippi</td>
<td>18.6</td>
<td>18.6</td>
<td>18.4</td>
<td>18.2</td>
<td>18.1</td>
<td>17.8</td>
<td>17.6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50</td>
<td>Nevada</td>
<td>17.8</td>
<td>17.7</td>
<td>17.9</td>
<td>17.9</td>
<td>17.8</td>
<td>17.3</td>
<td>17.2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</figure>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/robcli\.github\.io\/education\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>